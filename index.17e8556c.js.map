{"mappings":"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","sources":["src/js/review-modal.js"],"sourcesContent":["(() => {\r\n  const refs = {\r\n    openModalBtn: document.querySelector('[data-open-review]'),\r\n    closeModalBtn: document.querySelector('[data-close-review]'),\r\n    backdrop3: document.querySelector('[data-backdrop-review]'),\r\n  };\r\n\r\n  refs.openModalBtn.addEventListener('click', toggleModal);\r\n  refs.closeModalBtn.addEventListener('click', toggleModal);\r\n\r\n  // refs.backdrop3.addEventListener('click', logBackdropClick);\r\n\r\n  function toggleModal() {\r\n    refs.backdrop3.classList.toggle('is-hidden-review');\r\n  }\r\n\r\n  // function logBackdropClick() {\r\n  //   console.log('Це клік в бекдроп');\r\n  // }\r\n})();\r\n\r\nfunction validation(form) {\r\n  function removeError(input) {\r\n    const parent = input.parentNode;\r\n\r\n    if (parent.classList.contains('error')) {\r\n      // parent.querySelector('.error-label').remove();\r\n      parent.classList.remove('error');\r\n    }\r\n  }\r\n\r\n  function createError(input, text) {\r\n    const parent = input.parentNode;\r\n    // const errorLabel = document.createElement('label');\r\n\r\n    // errorLabel.classList.add('error-label');\r\n    // errorLabel.textContent = text;\r\n\r\n    parent.classList.add('error');\r\n\r\n    parent.append(errorLabel);\r\n  }\r\n\r\n  let result = true;\r\n\r\n  const allInputs = form.querySelectorAll('input');\r\n\r\n  for (const input of allInputs) {\r\n    removeError(input);\r\n\r\n    if (input.dataset.minLength) {\r\n      if (input.value.length < input.dataset.minLength) {\r\n        removeError(input);\r\n        createError(input, `Min. length: ${input.dataset.minLength}`);\r\n        result = false;\r\n      }\r\n    }\r\n\r\n    if (input.dataset.maxLength) {\r\n      if (input.value.length > input.dataset.maxLength) {\r\n        removeError(input);\r\n        createError(input, `Max. length: ${input.dataset.maxLength}`);\r\n        result = false;\r\n      }\r\n    }\r\n\r\n    if (input.dataset.required == 'true') {\r\n      if (input.value == '') {\r\n        removeError(input);\r\n        createError(input, 'Field is empty!');\r\n        result = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nconst refsThanks = {\r\n  openModalBtn: document.querySelector('[data-open-thanks]'),\r\n  closeModalBtn: document.querySelector('[data-close-thanks]'),\r\n  backdrop5: document.querySelector('[data-backdrop-thanks]'),\r\n  // discountContainer: document.querySelector('.discount-container'),\r\n};\r\n\r\n//! bc5 - thanks\r\n//! bc3 - review-modal\r\n\r\n\r\nfunction toggleModalThanks() {\r\n  refsThanks.backdrop5.classList.toggle('is-hidden-thanks');\r\n}\r\n\r\ndocument\r\n  .getElementById('comment__form')\r\n  .addEventListener('submit', function (event) {\r\n    event.preventDefault();\r\n\r\n    if (validation(this) === true) {\r\n      const TOKEN = '6590186759:AAEXDgJPNN-mXGJ5L18tzDES9dWLPunj-qo';\r\n      const CHAT_ID = '-1001917308774';\r\n      const URI_API = `https://api.telegram.org/bot${TOKEN}/sendMessage`;\r\n      const success = document.getElementById('success');\r\n\r\n      refsThanks.openModalBtn.addEventListener('click', toggleModalThanks);\r\n      refsThanks.closeModalBtn.addEventListener('click', toggleModalThanks);\r\n\r\n      document\r\n        .getElementById('comment__form')\r\n        .addEventListener('submit', function (e) {\r\n          e.preventDefault();\r\n\r\n          let message = `<b>Simply Chocolate Review</b>\\n`;\r\n          message += `<b>Name: </b> <i>${this.commentname.value}</i> \\n`;\r\n          // message += `<b>Surname: </b> <i>${this.surname.value}</i> \\n`;\r\n          message += `<b>Email: </b> ${this.commentemail.value} \\n`;\r\n          message += `<b>Phone: </b> ${this.commentphonenum.value} \\n`;\r\n          // message += `<b>Card: </b> ${this.cardnum.value} \\n`;\r\n          message += `<b>Comment: </b> ${this.commentreview.value}`;\r\n\r\n          axios\r\n            .post(URI_API, {\r\n              chat_id: CHAT_ID,\r\n              parse_mode: 'html',\r\n              text: message,\r\n            })\r\n            .then(res => {\r\n              this.commentname.value = '';\r\n              // this.surname.value = '';\r\n              this.commentemail.value = '';\r\n              this.commentphonenum.value = '';\r\n              // this.cardnum.value = '';\r\n              this.commentreview.value = '';\r\n              success.style.display = 'block';\r\n              success.innerHTML = 'Message Send';\r\n            })\r\n            .catch(err => {\r\n              console.warn(err);\r\n            })\r\n            .finally(() => {\r\n              console.log('The end');\r\n              refsThanks.openModalBtn.removeEventListener(\r\n                'click',\r\n                toggleModalThanks\r\n              );\r\n              document\r\n                .querySelector('[data-backdrop-review]')\r\n                .classList.toggle('is-hidden-review');\r\n            });\r\n        });\r\n    }\r\n  });\r\n\r\n\r\n\r\n\r\n\r\n  // (() => {\r\n    // const refs = {\r\n    //   openModalBtn: document.querySelector('[data-open-thanks]'),\r\n    //   closeModalBtn: document.querySelector('[data-close-thanks]'),\r\n    //   backdrop5: document.querySelector('[data-backdrop-thanks]'),\r\n    // };\r\n\r\n    // refs.openModalBtn.addEventListener('click', toggleModal);\r\n    // refs.closeModalBtn.addEventListener('click', toggleModal);\r\n\r\n    // refs.backdrop5.addEventListener('click', logBackdropClick);\r\n\r\n    // function toggleModal() {\r\n    //   refs.backdrop5.classList.toggle('is-hidden-thanks');\r\n    // }\r\n  // })();\r\n"],"names":["refs","openModalBtn","document","querySelector","closeModalBtn","backdrop3","toggleModal","classList","toggle","addEventListener","$d7be5c920a29152b$var$refsThanks","backdrop5","$d7be5c920a29152b$var$toggleModalThanks","getElementById","event","preventDefault","form","removeError","input","parent","parentNode","contains","remove","createError","text","add","append","errorLabel","result","allInputs","querySelectorAll","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","input1","value","dataset","minLength","length","concat","maxLength","required","err","return","$d7be5c920a29152b$var$validation","this","URI_API","success","e","message","commentname","commentemail","commentphonenum","commentreview","axios","post","chat_id","parse_mode","then","res","_this","style","display","innerHTML","catch","console","warn","finally","log","removeEventListener"],"version":3,"file":"index.17e8556c.js.map"}