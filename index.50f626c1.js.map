{"mappings":"AAAC,MACC,MAAMA,EAAO,CACXC,aAAcC,SAASC,cAAc,sBACrCC,cAAeF,SAASC,cAAc,uBACtCE,UAAWH,SAASC,cAAc,2BAQpC,SAASG,IACPN,EAAKK,UAAUE,UAAUC,OAAO,mB,CANlCR,EAAKC,aAAaQ,iBAAiB,QAASH,GAC5CN,EAAKI,cAAcK,iBAAiB,QAASH,EAW9C,EAnBA,GA8ED,MAAMI,EAAa,CACjBT,aAAcC,SAASC,cAAc,sBACrCC,cAAeF,SAASC,cAAc,uBACtCQ,UAAWT,SAASC,cAAc;;sBAQpC;SAASS,IACPF,EAAWC,UAAUJ,UAAUC,OAAO,mB,CAGxCN,SACGW,eAAe,iBACfJ,iBAAiB,UAAU,SAAUK,GAGpC,GAFAA,EAAMC,kBAEmB,IA7E7B,SAAoBC,GAClB,SAASC,EAAYC,GACnB,MAAMC,EAASD,EAAME,WAEjBD,EAAOZ,UAAUc,SAAS,UAE5BF,EAAOZ,UAAUe,OAAO,Q,CAI5B,SAASC,EAAYL,EAAOM,GAC1B,MAAML,EAASD,EAAME,WAMrBD,EAAOZ,UAAUkB,IAAI,SAErBN,EAAOO,OAAOC,W,CAGhB,IAAIC,GAAS,EAEb,MAAMC,EAAYb,EAAKc,iBAAiB,SAExC,IAAK,MAAMC,KAASF,EAClBZ,EAAYc,GAERA,EAAMC,QAAQC,WACZF,EAAMG,MAAMC,OAASJ,EAAMC,QAAQC,YACrChB,EAAYc,GACZR,EAAYQ,EAAuBA,EAAMC,QAAQC,WACjDL,GAAS,GAITG,EAAMC,QAAQI,WACZL,EAAMG,MAAMC,OAASJ,EAAMC,QAAQI,YACrCnB,EAAYc,GACZR,EAAYQ,EAAuBA,EAAMC,QAAQI,WACjDR,GAAS,GAIiB,QAA1BG,EAAMC,QAAQK,UACG,IAAfN,EAAMG,QACRjB,EAAYc,GACZR,EAAYQ,GACZH,GAAS,GAKf,OAAOA,C,CAuBDU,CAAWC,MAAgB,CAC7B,MACMC,EAAU,iBACVC,EAAU,+BAFF,+DAGRC,EAAUxC,SAASW,eAAe,WAExCH,EAAWT,aAAaQ,iBAAiB,QAASG,GAClDF,EAAWN,cAAcK,iBAAiB,QAASG,GAEnDV,SACGW,eAAe,iBACfJ,iBAAiB,UAAU,SAAUkC,GACpCA,EAAE5B,iBAEF,IAAI6B,EAAU,mCACdA,GAAW,oBAAoBL,KAAKM,YAAYX,eAEhDU,GAAW,kBAAkBL,KAAKO,aAAaZ,WAC/CU,GAAW,kBAAkBL,KAAKQ,gBAAgBb,WAElDU,GAAW,oBAAoBL,KAAKS,cAAcd,QAElDe,MACGC,KAAKT,EAAS,CACbU,QAASX,EACTY,WAAY,OACZ5B,KAAMoB,IAEPS,MAAKC,IACJf,KAAKM,YAAYX,MAAQ,GAEzBK,KAAKO,aAAaZ,MAAQ,GAC1BK,KAAKQ,gBAAgBb,MAAQ,GAE7BK,KAAKS,cAAcd,MAAQ,GAC3BQ,EAAQa,MAAMC,QAAU,QACxBd,EAAQe,UAAY,cAAc,IAEnCC,OAAMC,IACLC,QAAQC,KAAKF,EAAI,IAElBG,SAAQ,KACPF,QAAQG,IAAI,WACZrD,EAAWT,aAAa+D,oBACtB,QACApD,GAEFV,SACGC,cAAc,0BACdI,UAAUC,OAAO,mBAAmB,G","sources":["src/js/review-modal.js"],"sourcesContent":["(() => {\r\n  const refs = {\r\n    openModalBtn: document.querySelector('[data-open-review]'),\r\n    closeModalBtn: document.querySelector('[data-close-review]'),\r\n    backdrop3: document.querySelector('[data-backdrop-review]'),\r\n  };\r\n\r\n  refs.openModalBtn.addEventListener('click', toggleModal);\r\n  refs.closeModalBtn.addEventListener('click', toggleModal);\r\n\r\n  // refs.backdrop3.addEventListener('click', logBackdropClick);\r\n\r\n  function toggleModal() {\r\n    refs.backdrop3.classList.toggle('is-hidden-review');\r\n  }\r\n\r\n  // function logBackdropClick() {\r\n  //   console.log('Це клік в бекдроп');\r\n  // }\r\n})();\r\n\r\nfunction validation(form) {\r\n  function removeError(input) {\r\n    const parent = input.parentNode;\r\n\r\n    if (parent.classList.contains('error')) {\r\n      // parent.querySelector('.error-label').remove();\r\n      parent.classList.remove('error');\r\n    }\r\n  }\r\n\r\n  function createError(input, text) {\r\n    const parent = input.parentNode;\r\n    // const errorLabel = document.createElement('label');\r\n\r\n    // errorLabel.classList.add('error-label');\r\n    // errorLabel.textContent = text;\r\n\r\n    parent.classList.add('error');\r\n\r\n    parent.append(errorLabel);\r\n  }\r\n\r\n  let result = true;\r\n\r\n  const allInputs = form.querySelectorAll('input');\r\n\r\n  for (const input of allInputs) {\r\n    removeError(input);\r\n\r\n    if (input.dataset.minLength) {\r\n      if (input.value.length < input.dataset.minLength) {\r\n        removeError(input);\r\n        createError(input, `Min. length: ${input.dataset.minLength}`);\r\n        result = false;\r\n      }\r\n    }\r\n\r\n    if (input.dataset.maxLength) {\r\n      if (input.value.length > input.dataset.maxLength) {\r\n        removeError(input);\r\n        createError(input, `Max. length: ${input.dataset.maxLength}`);\r\n        result = false;\r\n      }\r\n    }\r\n\r\n    if (input.dataset.required == 'true') {\r\n      if (input.value == '') {\r\n        removeError(input);\r\n        createError(input, 'Field is empty!');\r\n        result = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nconst refsThanks = {\r\n  openModalBtn: document.querySelector('[data-open-thanks]'),\r\n  closeModalBtn: document.querySelector('[data-close-thanks]'),\r\n  backdrop5: document.querySelector('[data-backdrop-thanks]'),\r\n  // discountContainer: document.querySelector('.discount-container'),\r\n};\r\n\r\n//! bc5 - thanks\r\n//! bc3 - review-modal\r\n\r\n\r\nfunction toggleModalThanks() {\r\n  refsThanks.backdrop5.classList.toggle('is-hidden-thanks');\r\n}\r\n\r\ndocument\r\n  .getElementById('comment__form')\r\n  .addEventListener('submit', function (event) {\r\n    event.preventDefault();\r\n\r\n    if (validation(this) === true) {\r\n      const TOKEN = '6590186759:AAEXDgJPNN-mXGJ5L18tzDES9dWLPunj-qo';\r\n      const CHAT_ID = '-1001917308774';\r\n      const URI_API = `https://api.telegram.org/bot${TOKEN}/sendMessage`;\r\n      const success = document.getElementById('success');\r\n\r\n      refsThanks.openModalBtn.addEventListener('click', toggleModalThanks);\r\n      refsThanks.closeModalBtn.addEventListener('click', toggleModalThanks);\r\n\r\n      document\r\n        .getElementById('comment__form')\r\n        .addEventListener('submit', function (e) {\r\n          e.preventDefault();\r\n\r\n          let message = `<b>Simply Chocolate Review</b>\\n`;\r\n          message += `<b>Name: </b> <i>${this.commentname.value}</i> \\n`;\r\n          // message += `<b>Surname: </b> <i>${this.surname.value}</i> \\n`;\r\n          message += `<b>Email: </b> ${this.commentemail.value} \\n`;\r\n          message += `<b>Phone: </b> ${this.commentphonenum.value} \\n`;\r\n          // message += `<b>Card: </b> ${this.cardnum.value} \\n`;\r\n          message += `<b>Comment: </b> ${this.commentreview.value}`;\r\n\r\n          axios\r\n            .post(URI_API, {\r\n              chat_id: CHAT_ID,\r\n              parse_mode: 'html',\r\n              text: message,\r\n            })\r\n            .then(res => {\r\n              this.commentname.value = '';\r\n              // this.surname.value = '';\r\n              this.commentemail.value = '';\r\n              this.commentphonenum.value = '';\r\n              // this.cardnum.value = '';\r\n              this.commentreview.value = '';\r\n              success.style.display = 'block';\r\n              success.innerHTML = 'Message Send';\r\n            })\r\n            .catch(err => {\r\n              console.warn(err);\r\n            })\r\n            .finally(() => {\r\n              console.log('The end');\r\n              refsThanks.openModalBtn.removeEventListener(\r\n                'click',\r\n                toggleModalThanks\r\n              );\r\n              document\r\n                .querySelector('[data-backdrop-review]')\r\n                .classList.toggle('is-hidden-review');\r\n            });\r\n        });\r\n    }\r\n  });\r\n\r\n\r\n\r\n\r\n\r\n  // (() => {\r\n    // const refs = {\r\n    //   openModalBtn: document.querySelector('[data-open-thanks]'),\r\n    //   closeModalBtn: document.querySelector('[data-close-thanks]'),\r\n    //   backdrop5: document.querySelector('[data-backdrop-thanks]'),\r\n    // };\r\n\r\n    // refs.openModalBtn.addEventListener('click', toggleModal);\r\n    // refs.closeModalBtn.addEventListener('click', toggleModal);\r\n\r\n    // refs.backdrop5.addEventListener('click', logBackdropClick);\r\n\r\n    // function toggleModal() {\r\n    //   refs.backdrop5.classList.toggle('is-hidden-thanks');\r\n    // }\r\n  // })();\r\n"],"names":["refs","openModalBtn","document","querySelector","closeModalBtn","backdrop3","toggleModal","classList","toggle","addEventListener","$22b145be65066966$var$refsThanks","backdrop5","$22b145be65066966$var$toggleModalThanks","getElementById","event","preventDefault","form","removeError","input","parent","parentNode","contains","remove","createError","text","add","append","errorLabel","result","allInputs","querySelectorAll","input1","dataset","minLength","value","length","maxLength","required","$22b145be65066966$var$validation","this","CHAT_ID","URI_API","success","e","message","commentname","commentemail","commentphonenum","commentreview","axios","post","chat_id","parse_mode","then","res","style","display","innerHTML","catch","err","console","warn","finally","log","removeEventListener"],"version":3,"file":"index.50f626c1.js.map"}