{"mappings":"CAAC,WACC,IAAMA,EAAO,CACXC,aAAcC,SAASC,cAAc,uBACrCC,cAAeF,SAASC,cAAc,wBACtCE,gBAAiBH,SAASC,cAAc,4BAQ1C,SAASG,IACPN,EAAKK,gBAAgBE,UAAUC,OAAO,oB,CANxCR,EAAKC,aAAaQ,iBAAiB,QAASH,GAC5CN,EAAKI,cAAcK,iBAAiB,QAASH,EAO9C,CAfA;;;AAyFDJ,SACGQ,eAAe,gBACfD,iBAAiB,UAAU,SAAUE,GAGpC,GAFAA,EAAMC,kBAEmB,IA7E7B,SAAoBC,GAClB,SAASC,EAAYC,GACnB,IAAMC,EAASD,EAAME,WAEjBD,EAAOT,UAAUW,SAAS,UAE5BF,EAAOT,UAAUY,OAAO,Q,CAI5B,SAASC,EAAYL,EAAOM,GAC1B,IAAML,EAASD,EAAME,WACfK,EAAapB,SAASqB,cAAc,SAE1CD,EAAWf,UAAUiB,IAAI,uBACzBF,EAAWG,YAAcJ,EAEzBL,EAAOT,UAAUiB,IAAI,SAErBR,EAAOU,OAAOJ,E,CAGhB,IAAIK,GAAS,EAEPC,EAAYf,EAAKgB,iBAAiB,SAEnCC,GAAW,EAAXC,GAAW,EAAXC,OAAWC,E,IAAhB,QAAKC,EAAAC,EAAeP,EAASQ,OAAAC,cAAxBP,GAAAI,EAAAC,EAAWG,QAAAC,MAAXT,GAAW,EAAe,CAA1B,IAAMU,EAANN,EAAWO,MACd3B,EAAY0B,GAERA,EAAME,QAAQC,WACZH,EAAMC,MAAMG,OAASJ,EAAME,QAAQC,YACrC7B,EAAY0B,GACZpB,EAAYoB,EAAO,gBAAwCK,OAAxBL,EAAME,QAAQC,YACjDhB,GAAS,GAITa,EAAME,QAAQI,WACZN,EAAMC,MAAMG,OAASJ,EAAME,QAAQI,YACrChC,EAAY0B,GACZpB,EAAYoB,EAAO,gBAAwCK,OAAxBL,EAAME,QAAQI,YACjDnB,GAAS,GAIiB,QAA1Ba,EAAME,QAAQK,UACG,IAAfP,EAAMC,QACR3B,EAAY0B,GACZpB,EAAYoB,EAAO,mBACnBb,GAAS,E,WAvBVI,GAAW,EAAXC,EAAWgB,C,aAAXlB,GAAW,MAAXK,EAAWc,QAAXd,EAAWc,Q,YAAXlB,E,MAAAC,C,EA4BL,OAAOL,C,CAuBDuB,CAAWC,MAAgB,CAC7B,IAEMC,EAAU,+BAAqCP,OAFvC,iDAEuC,gBAC/CQ,EAAUnD,SAASQ,eAAe,WAKxCR,SACGQ,eAAe,gBACfD,iBAAiB,UAAU,SAAU6C,G,WACpCA,EAAE1C,iBAEF,IAAI2C,EAAW,oCAGfA,GAAW,kBAA+CV,OAA7BM,KAAKK,kBAAkBf,OAKpDgB,MACGC,KAAKN,EAAS,CACbO,QAtBQ,iBAuBRC,WAAY,OACZvC,KAAMkC,IAEPM,MAAK,SAAAC,GAGJC,EAAKP,kBAAkBf,MAAQ,GAI/BY,EAAQW,MAAMC,QAAU,QACxBZ,EAAQa,UAAY,c,IAErBC,OAAM,SAAAnB,GACLoB,QAAQC,KAAKrB,E,IAEdsB,SAAQ,WACPF,QAAQG,IAAI,U","sources":["src/js/mailing-modal.js"],"sourcesContent":["(() => {\r\n  const refs = {\r\n    openModalBtn: document.querySelector('[data-open-mailing]'),\r\n    closeModalBtn: document.querySelector('[data-close-mailing]'),\r\n    backdropMailing: document.querySelector('[data-backdrop-mailing]'),\r\n  };\r\n\r\n  refs.openModalBtn.addEventListener('click', toggleModal);\r\n  refs.closeModalBtn.addEventListener('click', toggleModal);\r\n\r\n  // refs.backdropMailing.addEventListener('click', logBackdropClick);\r\n\r\n  function toggleModal() {\r\n    refs.backdropMailing.classList.toggle('is-hidden-mailing');\r\n  }\r\n})();\r\n\r\nfunction validation(form) {\r\n  function removeError(input) {\r\n    const parent = input.parentNode;\r\n\r\n    if (parent.classList.contains('error')) {\r\n      // parent.querySelector('.error-label').remove();\r\n      parent.classList.remove('error');\r\n    }\r\n  }\r\n\r\n  function createError(input, text) {\r\n    const parent = input.parentNode;\r\n    const errorLabel = document.createElement('label');\r\n\r\n    errorLabel.classList.add('error-label-mailing');\r\n    errorLabel.textContent = text;\r\n\r\n    parent.classList.add('error');\r\n\r\n    parent.append(errorLabel);\r\n  }\r\n\r\n  let result = true;\r\n\r\n  const allInputs = form.querySelectorAll('input');\r\n\r\n  for (const input of allInputs) {\r\n    removeError(input);\r\n\r\n    if (input.dataset.minLength) {\r\n      if (input.value.length < input.dataset.minLength) {\r\n        removeError(input);\r\n        createError(input, `Min. length: ${input.dataset.minLength}`);\r\n        result = false;\r\n      }\r\n    }\r\n\r\n    if (input.dataset.maxLength) {\r\n      if (input.value.length > input.dataset.maxLength) {\r\n        removeError(input);\r\n        createError(input, `Max. length: ${input.dataset.maxLength}`);\r\n        result = false;\r\n      }\r\n    }\r\n\r\n    if (input.dataset.required == 'true') {\r\n      if (input.value == '') {\r\n        removeError(input);\r\n        createError(input, 'Field is empty!');\r\n        result = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\n// const refsThanks = {\r\n//   openModalBtn: document.querySelector('[data-open-thanks]'),\r\n//   closeModalBtn: document.querySelector('[data-close-thanks]'),\r\n//   backdrop5: document.querySelector('[data-backdrop-thanks]'),\r\n//   // discountContainer: document.querySelector('.discount-container'),\r\n// };\r\n\r\n//! bc5 - thanks\r\n//! bc3 - review-modal\r\n\r\n\r\n// function toggleModalThanks() {\r\n//   refsThanks.backdrop5.classList.toggle('is-hidden-thanks');\r\n// }\r\n\r\ndocument\r\n  .getElementById('mailing-form')\r\n  .addEventListener('submit', function (event) {\r\n    event.preventDefault();\r\n\r\n    if (validation(this) === true) {\r\n      const TOKEN = '6590186759:AAEXDgJPNN-mXGJ5L18tzDES9dWLPunj-qo';\r\n      const CHAT_ID = '-1001917308774';\r\n      const URI_API = `https://api.telegram.org/bot${TOKEN}/sendMessage`;\r\n      const success = document.getElementById('success');\r\n\r\n      // refsThanks.openModalBtn.addEventListener('click', toggleModalThanks);\r\n      // refsThanks.closeModalBtn.addEventListener('click', toggleModalThanks);\r\n\r\n      document\r\n        .getElementById('mailing-form')\r\n        .addEventListener('submit', function (e) {\r\n          e.preventDefault();\r\n\r\n          let message = `<b>Simply Chocolate Mailing</b>\\n`;\r\n          // message += `<b>Name: </b> <i>${this.commentname.value}</i> \\n`;\r\n          // message += `<b>Surname: </b> <i>${this.surname.value}</i> \\n`;\r\n          message += `<b>Email: </b> ${this.mailingmodalemail.value}`;\r\n          // message += `<b>Phone: </b> ${this.commentphonenum.value} \\n`;\r\n          // message += `<b>Card: </b> ${this.cardnum.value} \\n`;\r\n          // message += `<b>Comment: </b> ${this.commentreview.value}`;\r\n\r\n          axios\r\n            .post(URI_API, {\r\n              chat_id: CHAT_ID,\r\n              parse_mode: 'html',\r\n              text: message,\r\n            })\r\n            .then(res => {\r\n              // this.commentname.value = '';\r\n              // this.surname.value = '';\r\n              this.mailingmodalemail.value = '';\r\n              // this.commentphonenum.value = '';\r\n              // this.cardnum.value = '';\r\n              // this.commentreview.value = '';\r\n              success.style.display = 'block';\r\n              success.innerHTML = 'Message Send';\r\n            })\r\n            .catch(err => {\r\n              console.warn(err);\r\n            })\r\n            .finally(() => {\r\n              console.log('The end');\r\n              // refsThanks.openModalBtn.removeEventListener(\r\n              //   'click',\r\n              //   toggleModalThanks\r\n              // );\r\n              // document\r\n              //   .querySelector('[data-backdrop-review]')\r\n              //   .classList.toggle('is-hidden-review');\r\n            });\r\n        });\r\n    }\r\n  });\r\n\r\n\r\n\r\n\r\n\r\n  // (() => {\r\n    // const refs = {\r\n    //   openModalBtn: document.querySelector('[data-open-thanks]'),\r\n    //   closeModalBtn: document.querySelector('[data-close-thanks]'),\r\n    //   backdrop5: document.querySelector('[data-backdrop-thanks]'),\r\n    // };\r\n\r\n    // refs.openModalBtn.addEventListener('click', toggleModal);\r\n    // refs.closeModalBtn.addEventListener('click', toggleModal);\r\n\r\n    // refs.backdrop5.addEventListener('click', logBackdropClick);\r\n\r\n    // function toggleModal() {\r\n    //   refs.backdrop5.classList.toggle('is-hidden-thanks');\r\n    // }\r\n  // })();\r\n"],"names":["refs","openModalBtn","document","querySelector","closeModalBtn","backdropMailing","toggleModal","classList","toggle","addEventListener","getElementById","event","preventDefault","form","removeError","input","parent","parentNode","contains","remove","createError","text","errorLabel","createElement","add","textContent","append","result","allInputs","querySelectorAll","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","input1","value","dataset","minLength","length","concat","maxLength","required","err","return","$35276871697c6e50$var$validation","this","URI_API","success","e","message","mailingmodalemail","axios","post","chat_id","parse_mode","then","res","_this","style","display","innerHTML","catch","console","warn","finally","log"],"version":3,"file":"index.4f5fb3de.js.map"}